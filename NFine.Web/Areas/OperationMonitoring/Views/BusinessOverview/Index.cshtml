@{
    ViewBag.Title = "经营概览";
    Layout = "~/Views/Shared/_Index.cshtml";
}
@*<script src="~/Content/js/jquery/jquery-2.1.1.min.js"></script>*@
<script src="~/Content/js/echarts/4.3/echarts.js"></script>
<script src="~/Content/js/pages/world.js"></script>
<script src="~/Content/js/bootstrap/bootstrap.js"></script>
<link href="~/Content/js/bootstrap/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/js/pages/AdminLTE.css" rel="stylesheet" />
@*<link href="~/Content/js/pages/AdminLTE.min.css" rel="stylesheet" />*@
<link href="~/Content/js/pages/app.css" rel="stylesheet" />

<script src="~/Content/js/d3/d3.min.js"></script>
<script src="~/Content/js/d3/d3.layout.cloud.js"></script>
<style>
    div.ui-jqgrid-view table.ui-jqgrid-btable {
        border-style: none;
        border-top-style: none;
        border-collapse: separate;
    }

        div.ui-jqgrid-view table.ui-jqgrid-btable td {
            border-left-style: none;
        }

    div.ui-jqgrid-view table.ui-jqgrid-htable {
        border-style: none;
        border-top-style: none;
        border-collapse: separate;
    }

    div.ui-jqgrid-view table.ui-jqgrid-btable th {
        border-left-style: none;
    }
    #gview_gridList table[aria-labelledby="gbox_gridList"] th.ui-th-ltr {
        background: #f2961d;
        color:#fff;
    }
    #gridList, .ui-th-ltr, th.ui-th-ltr {
        background: #fcead2;
    }
</style>
<script>
    window.onload = function () {
        loadOne1a();
        loadOne1b();
        loadTwo();
        gridList();
        loadThree();
        loadSix();
        loadSeven();
        loadEight();
        loadNine();
        loadFour();
        loadFive();
    }
    //function selectType(obj) {
    //    loadOne1a();
    //    loadOne1b();
    //}
    //function selectTypes(obj) {
    //    loadThree();
    //}
    function loadOne1a() {
        var listName = new Array();
        var TotalCost = 0;
        var str =[];
        //var keyValue = $('#Type_id option:selected').val();
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataTotalCycleCost",
            //data: { keyValue: keyValue },
            dataType: "json",
            async: false,
            success: function (data) {
                $(data).each(function (index, item) {
                    //if (index == 0) {
                    //    TotalCost = item.TotalCost;
                    //}
                    listName.push(item.Name);
                    var str3 = new Object();
                    str3.name = item.Name;
                    str3.value = item.Cost;
                    str[index] = str3;
                    TotalCost += item.Cost;
                })
            }
        });
        var myChart = echarts.init(document.getElementById('chart1a'));
        // 指定图表的配置项和数据
        var option = {
            title: {//标题组件
                text: '￥' + TotalCost + '万',
                top: '45%',
                left: '43%',
                textStyle: {
                    color: "#808080",
                    fontSize: 15,
                    fontFamily: 'KaiTi',
                }
            },
            tooltip: { //提示框组件
                trigger: 'item', //触发类型(饼状图片就是用这个)
                formatter: "{b} : ({c}%)"//"{a} <br/>{b} : {c} ({d}%)" //提示框浮层内容格式器
            },
            color: ['#febf37', '#f18533', '#6d48e6', '#ff6139'],  //手动设置每个图例的颜色
            //legend: {  //图例组件
            //    //right:100,  //图例组件离右边的距离
            //    //orient: 'horizontal',  //布局  纵向布局 图例标记居文字的左边 vertical则反之
            //    //width: 40,      //图行例组件的宽度,默认自适应
            //    //x: 'right',   //图例显示在右边
            //    //y: 'bottom',   //图例在垂直方向上面显示居中
            //    itemWidth: 10,  //图例标记的图形宽度
            //    itemHeight: 10, //图例标记的图形高度
            //    bottom: 0,
            //    left: 'center',
            //    data: listName,//['物料', '外协', '自制', '异常'],
            //    textStyle: {    //图例文字的样式
            //        color: '#808080',  //文字颜色
            //        fontSize: 12    //文字大小
            //    }
            //},
            series: [ //系列列表
                {
                    //name:'设备状态',  //系列名称
                    type: 'pie',   //类型 pie表示饼图
                    center: ['54%', '50%'], //设置饼的原心坐标 不设置就会默认在中心的位置
                    radius: ['40%', '58%'],  //饼图的半径,第一项是内半径,第二项是外半径,内半径为0就是真的饼,不是环形
                    itemStyle: {  //图形样式
                        normal: { //normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。
                            borderWidth: 4,
                            borderColor: '#fff',
                            //label: {  //饼图图形上的文本标签
                            //    show: true,  //平常不显示
                            //    formatter: '{c}%',
                            //    position: 'inner'
                            //},
                            //labelLine: {     //标签的视觉引导线样式
                            //    show: false  //平常不显示
                            //}
                            label: {
                                //formatter: '{font|{c}}\n{hr|}\n{font|{d}%}',
                                formatter: function (params) {
                                    var percent = 0;
                                    var total = 0;
                                    for (var i = 0; i < str.length; i++) {
                                        total += str[i].value;
                                    }
                                    percent = ((params.value / total) * 100).toFixed(0);
                                    if (params.name !== '') {
                                        return params.name + '：' + params.value+ '万'+ '\n' + '\n' + percent + '%';
                                    } else {
                                        return '';
                                    }
                                },
                                rich: {
                                    font: {
                                        fontSize: 14,
                                        padding: [5, 0],
                                        color: '#808080'
                                    },
                                    hr: {
                                        height: 0,
                                        borderWidth: 1,
                                        width: '100%',
                                        borderColor: '#808080'
                                    }
                                }
                            },
                            labelLine: {
                                length: 5,
                                length2: 10,
                                show: true,
                                color: '#00ffff'
                            }
                        },
                        //emphasis: {   //normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。
                        //    label: {  //饼图图形上的文本标签
                        //        show: true,
                        //        position: 'center',
                        //        textStyle: {
                        //            fontSize: '18',
                        //            fontWeight: 'bold'
                        //        }
                        //    }
                        //}
                    },
                    data: str//[ { value: 27, name: '物料' }, { value: 18, name: '外协' }, { value: 53, name: '自制' }, { value: 2, name: '异常' } ]
                }
            ]
        };
        myChart.setOption(option);
    }
    function loadOne1b() {
        var listName = new Array();
        var TotalCost = 0;
        var str = [];
        //var keyValue = $('#Type_id option:selected').val();
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataCostByDepartment",
            //data: { keyValue: keyValue },
            dataType: "json",
            async: false,
            success: function (data) {
                $(data).each(function (index, item) {
                    listName.push(item.Name);
                    var str3 = new Object();
                    str3.name = item.Name;
                    str3.value = item.Cost;
                    str[index] = str3;
                    TotalCost += item.Cost;
                })
            }
        });

        var myChart = echarts.init(document.getElementById('chart1b'));
        var option = {
            title: {//标题组件
                text: '￥' + TotalCost + '万',
                top: '45%',
                left: '44%',
                textStyle: {
                    color: "#808080",
                    fontSize: 15,
                    fontFamily: 'KaiTi',
                }
            },
            tooltip: { //提示框组件
                trigger: 'item', //触发类型(饼状图片就是用这个)
                formatter: "{b} : ({c}%)"//"{a} <br/>{b} : {c} ({d}%)" //提示框浮层内容格式器
            },
            color: ['#febf37', '#f18533', '#6d48e6', '#ff6139'],  //手动设置每个图例的颜色
            //legend: {
            //    //orient: 'vertical',
            //    left: 'center',
            //    itemWidth: 10,  //图例标记的图形宽度
            //    itemHeight: 10, //图例标记的图形高度
            //    bottom: 20,
            //    data: listName,//['CNC', 'EDM', 'WEDM', '车铣磨抛']
            //    textStyle: {    //图例文字的样式
            //        color: '#808080',  //文字颜色
            //        fontSize: 12    //文字大小
            //    }
            //},
            series: [
                {
                    name: '访问来源',
                    type: 'pie',
                    center: ['55%', '50%'],
                    radius: ['40%', '58%'],
                    data: str//[{ value: 23, name: 'CNC' },{ value: 26, name: 'EDM' },{ value: 17, name: 'WEDM' },{ value: 34, name: '车铣磨抛' },]
                    ,
                    itemStyle: {  //图形样式
                        normal: { //normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。
                            borderWidth: 4,
                            borderColor: '#fff',
                            //label: {  //饼图图形上的文本标签
                            //    show: true,  //平常不显示
                            //    formatter: '{c}%',
                            //    position: 'inner'
                            //},
                            //labelLine: {     //标签的视觉引导线样式
                            //    show: false  //平常不显示
                            //}
                            label: {
                                //formatter: '{font|{c}}\n{hr|}\n{font|{d}%}',
                                formatter: function (params) {
                                    var percent = 0;
                                    var total = 0;
                                    for (var i = 0; i < str.length; i++) {
                                        total += str[i].value;
                                    }
                                    percent = ((params.value / total) * 100).toFixed(0);
                                    if (params.name !== '') {
                                        return params.name + '\n' + '\n' + percent + '%';
                                    } else {
                                        return '';
                                    }
                                },
                                rich: {
                                    font: {
                                        fontSize: 14,
                                        padding: [5, 0],
                                        color: '#808080'
                                    },
                                    hr: {
                                        height: 0,
                                        borderWidth: 1,
                                        width: '100%',
                                        borderColor: '#808080'
                                    }
                                }
                            },
                            labelLine: {
                                length: 5,
                                length2: 10,
                                show: true,
                                color: '#00ffff'
                            }
                        },
                        //emphasis: {   //normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。
                        //    label: {  //饼图图形上的文本标签
                        //        show: true,
                        //        position: 'center',
                        //        textStyle: {
                        //            fontSize: '20',
                        //            fontWeight: 'bold'
                        //        }
                        //    },
                        //    itemStyle: {
                        //        shadowBlur: 10,
                        //        shadowOffsetX: 0,
                        //        shadowColor: 'rgba(0, 0, 0, 0.5)'
                        //    }
                        //}
                    }
                }
            ]
        };
        myChart.setOption(option);
    }
    function loadTwo() {
        var ListMonth = new Array();
        var ListDeliveryRate = new Array();

        $.ajax({
            async: false,
            url: "/OperationMonitoring/BusinessOverview/GetDataDeliveryCompletionRate",
            type: "get",
            dataType: "json",
            success: function (da) {
                $(da).each(function (index, item) {
                    ListMonth.push(item.Month);
                    ListDeliveryRate.push(item.DeliveryRate);
                })
            }
        })
        var myChart = echarts.init(document.getElementById('chart2'));

        var option = {
            title: {
                text: ''
            },
            tooltip: {
                trigger: 'axis'
            },
            grid: {
                top: 10,
                left: 40,
                right: 15,
                bottom: 50,
                containLabel: false
            },
            //toolbox: {
            //    feature: {
            //        saveAsImage: {}
            //    }
            //},
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    var relVal = params[0].name;
                    for (var i = 0, l = params.length; i < l; i++) {
                        relVal += '<br/>' + params[i].marker + params[i].seriesName + ' : ' + params[i].value + "%";
                    }
                    return relVal;
                }
            },
            xAxis: [{
                type: 'category',
                data: ListMonth,
                axisLine: {
                    show: false,
                    lineStyle: {
                        color: '#808080',

                    }
                },
                axisLabel: {
                    // interval: 0,
                    // rotate: 40,
                    textStyle: {
                        fontSize: '11'
                    }
                },
                axisTick: { //y轴刻度线
                    show: false
                },
            }],
            yAxis: [{
                min: '70',
                interval: 10,
                type: 'value',
                axisLine: {
                    show: false,
                    lineStyle: {
                        color: '#f2961d'
                    }
                },
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: "#f2961d"
                    }
                },
                axisTick: { //y轴刻度线
                    show: false
                },
                axisLabel: {
                    formatter: function (value) {
                        return value + "%";
                    },
                    show: true,
                    textStyle: {
                        color: '#f2961d'
                    }
                },
            }],
            series: [
                {
                    name: '交期达成率',
                    type:'line',
                    //areaStyle: {normal: {
                    //    color: new echarts.graphic.LinearGradient(
                    //            0, 0, 0, 1,
                    //            [
                    //                { offset: 0, color: '#34d0e9' },
                    //                { offset: 0.5, color: '#0a3d70' },
                    //                { offset: 1, color: 'transparent' }
                    //            ]
                    //    )
                    //}
                    //},
                    itemStyle : {
                        normal : {
                            color: '#f2961d', //改变折线点的颜色
                            lineStyle:{
                                color: '#f2961d' //改变折线颜色
                            }
                        }
                    },
                    data: ListDeliveryRate,
                }
            ]
        };

       myChart.setOption(option);
    }
    function gridList() {
        var $gridList = $("#gridList");
        $gridList.dataGrid({
            url: "/OperationMonitoring/BusinessOverview/GetGridJson",
            height: 70,
            colModel: [
                { label: '模具编号', name: 'MoldNo', width: 70, align: 'center' },
                { label: '试模', name: 'MoldTest', width: 70, align: 'center' },
                { label: '类型', name: 'Type', width: 70, align: 'center' },
                { label: '状态', name: 'State', width: 65, align: 'center' },
                { label: '产品名称', name: 'ProductName', width: 80, align: 'center' },
                {
                    label: '计划交期', name: 'PlannedDeliveryDate', width: 80, align: 'left',
                    formatter: "date", formatoptions: { srcformat: 'Y/m/d', newformat: 'Y/m/d' }
                },
                {
                    label: '预警', name: 'EarlyWarning', width: 100, align: 'center',
                    formatter: function (cellvalue, row, index) {
                       // return '<div style="top: 0%;left: 50%; transform: translate(-0%, -50%);"> <div style="border: 1px #000000 solid;margin:0 auto;position: relative;width:80%; height: 5px;background-color: #f9e1e3; border-radius: 3px;"><div style="white-space: pre-line;width: ' + index.EarlyWarning + '%;height: 100%;background-color:' + index.EarlyWarningColor + ';border-radius: 3px;"></div></div></div>'
                        //提供三个值改变宽度，颜色忽略
                        var temp = ''
                        temp += ' <div class="progress" style="height: 10px;">'
                        var tip = index.EarlyWarning.split(';');
                        if (tip == 0) {
                            temp += '<div class="progress-bar progress-bar-success" style="width:100%;height: 10px"></div>'
                        } else if (tip > 0) {
                            var attnum = 1 - tip;
                            temp += '<div class="progress-bar progress-bar-success" style="width:' + tip * 100 + '%;height: 10px"></div>'
                            temp += ' <div class="progress-bar progress-bar-info" style="width:' + attnum * 100 + '%;height: 10px"></div>'
                        } else if (tip.length == 2) {
                            var attnums = 1 - tip[0] - tip[1];
                            temp += '<div class="progress-bar progress-bar-success" style="width:' + tip[0] * 100 + '%;height: 10px"></div>'
                            temp += ' <div class="progress-bar progress-bar-info" style="width:' + tip[1] * 100 + '%;height: 10px"></div>'
                            temp += '  <div class="progress-bar progress-bar-warning" style="width:' + attnums * 100 + '%;height: 10px"></div>'
                        }
                        //temp += '<div class="progress-bar progress-bar-danger" style="width:15%;height: 5px"></div></div> '
                        return temp;
                    }
                },
            ],
            //pager: "#gridPager",
            sortname: 'MoldNo desc',
            viewrecords: true
        });
    }
    function loadThree()
    {
        var listDeviceType = new Array();
        var listDeviceName = new Array();
        var listAll = new Array();
        //var keyValue = $('#Types_id option:selected').val();
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataBOCapacityLoad",
            //data: { keyValue: keyValue },
            dataType: "json",
            async: false,
            success: function (da) {
                $(da).each(function (index, item) {
                    listDeviceType.push(item.DeviceType);
                    listDeviceName.push(item.DeviceName);
                    listAll.push(item);
                })
            }
        })

        $.unique(listDeviceType);
        $.unique(listDeviceName.sort());

        var series = [];
        $.each(listDeviceName, function (index, value) {
            var tempName = new Array();
            var tempArry = new Array();
            $.each(listAll, function (index1, value1) {
                if (value == value1.DeviceName) {
                    tempName = value1.DeviceName;
                    tempArry.push(value1.Number);
                }
            });
            series.push({
                name: tempName,
                type: 'bar',
                barWidth: '15%',
                barGap: '80%',
                data: tempArry,
                itemStyle: {
                    normal: {
                        label: {
                            show: true, //开启显示
                            position: 'top', //在上方显示
                            textStyle: { //数值样式
                                color: 'red',
                                fontSize: 12
                            }
                        }
                    }
                },
            })
        });

        var myChart = echarts.init(document.getElementById('chart3'));

        var option = {
            color: ['#f2961f', '#6d48e6', '#f70bfc'],
            grid: {
                left: '0%',
                right: '0',
                bottom: '0%',
                containLabel: true
            },
            legend: {
                itemGap:30,
                data: listDeviceName,
                itemWidth: 10,  //图例标记的图形宽度
                itemHeight: 10, //图例标记的图形高度
                textStyle: {    //图例文字的样式
                    color: '#808080',  //文字颜色
                    fontSize: 12    //文字大小
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            xAxis: [
                {
                    //type: 'category',
                    //axisTick: { show: false },
                    //axisLabel: {
                    //    //X轴刻度配置
                    //    interval: 0 //0：表示全部显示不间隔；auto:表示自动根据刻度个数和宽度自动设置间隔个数
                    //    , rotate: 0
                    //},
                    //data: listDeviceType,

                    type: 'category',
                    data: listDeviceType,
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: '#808080',

                        }
                    },
                    axisLabel: {
                        // interval: 0,
                        // rotate: 40,
                        textStyle: {
                            fontSize: '11'
                        }
                    },
                    axisTick: { //y轴刻度线
                        show: false
                    },

                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: "(小时)",
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: '#f2961d'
                        }
                    },
                    splitLine: {
                        show: true,
                        lineStyle: {
                            //color: "#57617B"
                            type: 'dashed'
                        }
                    },
                    axisTick: { //y轴刻度线
                        show: true
                    },
                    axisLabel: {}
                }
            ],
            series: series
        };
        myChart.setOption(option, true);
    }
    function loadFour()
    {
        var listName = new Array();
        var str = [];
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataKeyCustomers",
            dataType: "json",
            async: false,
            success: function (data) {
                $(data).each(function (index, item) {
                    var str3 = new Object();
                    //默认加一条空值，防止.data(nodes.slice(1));获取不到。
                    if (index == "0") {
                        listName.unshift("");
                        str3.name = "";
                        str3.val = 0;
                        str[index] = str3;
                    }
                    listName.push(item.Name);
                    str3.name = item.Name;
                    str3.val = item.Number * 1000 + 20000;
                    str[index+1] = str3;
                })
            }
        });
        var fill = d3.scale.category20();
        var width = 650,
            height = 280;
        var data = str

        //[
        //            { "name": "河北", "val": "62356" },
        //            {"name":"河南","val":"89565"},
        //            {"name":"广东","val":"63658"},
        //            {"name":"江西","val":"68525"},
        //            {"name":"上海","val":"36585"},
        //            {"name":"广西","val":"66589"},
        //            {"name":"云南","val":"86955"},
        //            {"name":"江苏","val":"75565"},
        //            {"name":"陕西","val":"73668"},
        //            {"name":"湖南","val":"95684"}
        //]
        //range（节点数目），radius大小
        var nodes = d3.range(listName.length).map(function (i) {
            var data1 = {
                radius: parseFloat(data[i].val) / 2000,
                value:  parseFloat(data[i].val),
                label: data[i].name
            };
            return data1;


        }),
            root = nodes[0],
            color = d3.scale.category10();

        root.radius = 0;
        root.fixed = true;

        //力导向
        var force = d3.layout.force()
            .gravity(0.01)  //中心产生重力（通俗点说就是改变圆球之间的距离），数值越大挨得越近，0则没有重力
        //    .charge(function(d, i) { return i ? 0 : -2000; })
            .nodes(nodes)
            .size([width, height]);

        force.start();
        var padding = {left:-150, right:-10, top:0, bottom:-10};

        var svg = d3.select("#d3_temp").append("svg")
            .attr("width", width)
            .attr("height", height);

        //var ball = svg.selectAll("circle")
        //  .data(nodes.slice(1))
        //  .enter().append("circle")
        //  .attr("r", function(d) { return d.radius; })
        //  .style("fill", function(d, i) { return color(i % 3); })
        //  .append("text")
        //  .attr("class","text")
        //  .text(d => d.label)
        //  .attr("font-size", "30px")
        //  .attr("fill", "red")
        //  .attr("transform","translate(" + padding.left + "," + padding.top + ")");


        var ball = svg.selectAll("g")
            .data(nodes.slice(1));

        var elemEnter = ball.enter()
                           .append("g")
                           .attr("transform","translate(" + padding.left + "," + padding.top + ")");

        var circle =	elemEnter.append("circle")
                              .attr("r", function(d) { return d.radius; })
        //.style("fill", function(d, i) { return color(i % 1); })
         .style("fill", function (d, i) { return fill(i); })//fill 在前面15行定义为颜色集

        elemEnter.append("text")
        .attr("class","text")
        .text(d => d.label)
        .attr("font-size", "14px")
        .attr("fill", "#fff")




        force.on("tick", function(e) {
            var q = d3.geom.quadtree(nodes),
                  i = 0,
                  n = nodes.length;

            //while (++i < n) q.visit(collide(nodes[i]));
            svg.selectAll("circle")
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            svg.selectAll("text")
                  .attr("x", function(d) { return d.x - 16; })
                  .attr("y", function (d) { return d.y + 6; });

            force.resume();

        });

        svg.on("mousemove", function() {
            var p1 = d3.mouse(this);
            root.px = p1[0];
            root.py = p1[1];
            force.resume();
        });

        function collide(node) {
            var r = node.radius + 16,
                  nx1 = node.x - r,
                  nx2 = node.x + r,
                  ny1 = node.y - r,
                  ny2 = node.y + r;
            return function(quad, x1, y1, x2, y2) {
                if (quad.point && (quad.point !== node)) {
                    var x = node.x - quad.point.x,
                        y = node.y - quad.point.y,
                        l = Math.sqrt(x * x + y * y),
                        r = node.radius + quad.point.radius;
                    if (l < r) {
                        l = (l - r) / l * .5;
                        node.x -= x *= l;
                        node.y -= y *= l;
                        quad.point.x += x;
                        quad.point.y += y;
                    }
                }
                return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;
            };
        }
    }
    function loadFive()
    {
        var myChart = echarts.init(document.getElementById('chart4b'));
        var data = [[{ name: '北美洲', value: 0 }], [{ name: '南美洲', value: 0 }], [{ name: '非洲', value: 0 }], [{ name: '欧洲', value: 0 }], [{ name: '大洋洲', value: 0 }], [{ name: '印度', value: 0 }], [{ name: '中国', value: 1 }]]
        var geoCoordMap = { '北美洲': [-101.670961, 41.103997], '南美洲': [-58.842054, -11.895087], '非洲': [22.106051, 14.099049], '欧洲': [15.777381, 49.971800], '大洋洲': [132.637011, -25.596128], '印度': [78.475369, 22.934290], '中国': [113.651000, 39.526776] };
        var convertData = function (data) {
            var res = [];
            for (var i = 0; i < data.length; i++) {
                var dataItem = data[i];
                var fromCoord = geoCoordMap[dataItem[0].name];
                var toCoord = [116.46, 39.92];
                if (fromCoord && toCoord) {
                    res.push([{
                        coord: fromCoord,
                        value: dataItem[0].value
                    }, {
                        coord: toCoord,
                    }]);
                }
            }
            return res;
        };

        var series = [];
        [['北京', data]].forEach(function (item, i) {
            console.log(item);
            series.push({
                type: 'lines', zlevel: 2,
                effect: { show: true, period: 4, trailLength: 0.02, symbol: 'arrow', symbolSize: 5, },
                lineStyle: { normal: { width: 1, opacity: 1, curveness: .3, color: '#00fefe' } },
                data: convertData(item[1])
            }, {
                type: 'effectScatter', coordinateSystem: 'geo', zlevel: 2,
                rippleEffect: { period: 4, brushType: 'stroke', scale: 4 },
                label: {
                    normal: {
                        show: true, position: 'right', offset: [5, 0], fontSize: 15,
                        formatter: function (params) { return params.data.name; }
                    },
                    emphasis: { show: true }
                },
                symbol: 'circle',
                symbolSize: function (val) {
                    return 6 + val[2] * 5;
                },
                itemStyle: { normal: { show: false, color: '#00fefe' } },
                data: item[1].map(function (dataItem) {
                    return { name: dataItem[0].name, value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value]) };
                }),
            },
              {
                  type: 'scatter', coordinateSystem: 'geo', zlevel: 2,
                  rippleEffect: { period: 4, brushType: 'stroke', scale: 4 },
                  label: {
                      normal: {
                          show: true, position: 'right',
                          color: '#0f0', formatter: '{b}',
                          textStyle: { color: '#0f0' }
                      },
                      emphasis: { show: true, color: '#f60' }
                  },
              }
            );
        }
        );

        option = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'item',
                backgroundColor: 'rgba(25,25,44,0.5)',
                textStyle: { color: '#e1e2e5' }
            },

            geo: {
                map: 'world',
                zoom: 1.2,
                label: {
                    emphasis: {
                        show: false
                    }
                },
                roam: true,
                itemStyle: {
                    normal: {
                        areaColor: '#58462f',
                        borderColor: '#24273e'
                    },
                    emphasis: {
                        areaColor: '#17a086'
                    }
                }
            },

            series: series
        };
        myChart.setOption(option);
        window.onresize = echart.resize;
        function resize(width, height) {
            var chart = document.getElementById('chart4b');
            chart.style.width = width + "px";
            chart.style.height = height + "px";
            echart.resize();
        }
    }
    function loadSix()
    {
        var listName = new Array();
        var str = [];
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataMoldProportion",
            dataType: "json",
            async: false,
            success: function (data) {
                $(data).each(function (index, item) {
                    listName.push(item.Name);
                    var str3 = new Object();
                    str3.name = item.Name;
                    str3.value = item.Number;
                    str[index] = str3;
                })
            }
        });
        var myChart = echarts.init(document.getElementById('chart4'));

        var option = {
            color: ['#f18533', '#6d48e6'],
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            series: [{
                name: '',
                type: 'pie',
                radius: '55%',
                center: ['50%', '50%'],
                data: str,
                itemStyle: {  //图形样式
                    normal: { //normal 是图形在默认状态下的样式；emphasis 是图形在高亮状态下的样式，比如在鼠标悬浮或者图例联动高亮时。
                        //borderWidth: 4,
                        //borderColor: '#fff',
                        label: {
                            formatter: function (params) {
                                var percent = 0;
                                var total = 0;
                                for (var i = 0; i < str.length; i++) {
                                    total += str[i].value;
                                }
                                percent = ((params.value / total) * 100).toFixed(0);
                                if (params.name !== '') {
                                    return params.name + ':' + params.value + '套' + '\n' + '\n' + percent + '%';
                                } else {
                                    return '';
                                }
                            },
                            rich: {
                                font: {
                                    fontSize: 14,
                                    padding: [5, 0],
                                    color: '#808080'
                                },
                                hr: {
                                    height: 0,
                                    borderWidth: 1,
                                    width: '100%',
                                    borderColor: '#808080'
                                }
                            }
                        },
                        labelLine: {
                            length: 5,
                            length2: 10,
                            show: true,
                            color: '#00ffff'
                        }
                    },
                }
            }]
        };
        myChart.setOption(option);
    }
    function loadSeven()
    {
        var listMonthDay = new Array();
        var listAll = new Array();
        var listDeviceName = new Array();
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataElectrodeQualifiedRate",
            dataType: "json",
            async: false,
            success: function (data) {
                $(data).each(function (index, item) {
                    if (item.MonthDay != "") {
                        listMonthDay.push(item.MonthDay);
                        listDeviceName.push(item.DeviceName);
                        listAll.push(item);
                    }
                })
            }
        });
        var arr2 = listMonthDay.sort(function (a, b) {
            return a - b;
        })
        $.unique(arr2);//日期
        $.unique(listDeviceName.sort());//设备名字

        var series = [];
        $.each(listDeviceName, function (index, value) {
            var tempName = new Array();
            var tempArry = new Array();
            $.each(listAll, function (index1, value1) {
                if (value == value1.DeviceName) {
                    tempName = value1.DeviceName;
                    tempArry.push(value1.TrendRate);
                }
            });
            var getRandomColor = function () {
                return '#' + Math.floor(Math.random() * 16777215).toString(16);
            }
            series.push({
                name: tempName,
                type: 'line',
                smooth: true,
                stack: '总量' + index,
                data: tempArry
            })
        });

        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('chart5'));

        var option = {
            tooltip: {
                trigger: 'axis'
            },
            color: ['#febf37', '#f18533', '#6d48e6'],
            legend: {
                itemGap: 30,
                //itemWidth: 10,  //图例标记的图形宽度
                //itemHeight: 10, //图例标记的图形高度
                data: listDeviceName,
                textStyle: {    //图例文字的样式
                    color: '#474242',  //文字颜色
                    fontSize: 12    //文字大小
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '5%',
                top: '10%',
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    var relVal = params[0].name;
                    for (var i = 0, l = params.length; i < l; i++) {
                        relVal += '<br/>' + params[i].marker + params[i].seriesName + ' : ' + params[i].value + "%";
                    }
                    return relVal;
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: listMonthDay,
                axisLine: {
                    show: false,
                    lineStyle: {
                        color: '#808080',
                    }
                },
                axisLabel: {
                    // interval: 0,
                    // rotate: 40,
                    textStyle: {
                        fontSize: '11'
                    }
                },
                axisTick: { //y轴刻度线
                    show: false
                },
            },
            yAxis: {
                min: '0',
                type: 'value',
                axisLine: {
                    show: false,
                    lineStyle: {
                        color: '#f2961d'
                    }
                },
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: "#f2961d"
                    }
                },
                axisTick: { //y轴刻度线
                    show: false
                },
                axisLabel: {
                    show: true,
                    interval: 'auto',
                    formatter: '{value} %'
                },
                show: true,
            },
            series: series
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }
    function loadEight()
    {
        var myChart = echarts.init(document.getElementById('chart6'));
        var data = 85; //数值大小
        var max = 100; //满刻度大小
        var option = {
            title: {
                text: '合格率',
                top: '60%',
                left: 'center',
                textStyle: {
                    color: '#f2961f',
                    fontSize: 14
                }
            },
            "color": ["#f70bfc", 'rgba(255,255,255,.5)', 'rgba(255,255,255,.2)'],
            "series": [{
                "type": "pie",
                "center": ["50%", "50%"],
                "radius": ["65%", "70%"],
                "hoverAnimation": false,

                "data": [{
                    "name": "",
                    "value": data,
                    "itemStyle": {
                        "normal": {
                            "color": new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                "offset": 0.05,
                                "color": '#cf3'
                            }, {
                                "offset": 0.1,
                                "color": '#9f3'
                            }, {
                                "offset": 0.2,
                                "color": '#3f6'
                            }, {
                                "offset": 0.3,
                                "color": '#3fc'
                            }, {
                                "offset": 0.4,
                                "color": '#3ff'
                            }, {
                                "offset": 0.5,
                                "color": '#39f'
                            }, {
                                "offset": 0.6,
                                "color": '#33f'
                            }, {
                                "offset": 0.7,
                                "color": '#93f'
                            }, {
                                "offset": 0.8,
                                "color": '#f3f'
                            }, {
                                "offset": 0.9,
                                "color": '#f39'
                            }, {
                                "offset": 1,
                                "color": '#f36'
                            }]),
                        }
                    },
                    "label": {
                        "show": true,
                        "position": "center",
                        "color": "#f2961f",
                        "fontSize": 24,
                        "fontWeight": "bold",
                        formatter: '{b}\n{d}%',
                        //"formatter": function (o) {
                        //    return data
                        //}
                    },
                    labelLine: {
                        show: false,
                        emphasis: {
                            show: false
                        }
                    }
                },
                    { //画中间的图标
                        "name": "",
                        "value": 0,
                        "label": {
                            position: 'inside',
                            backgroundColor: {
                                image: 'data:image/png;base64,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0p8zAAA6E2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE5LTA0LTMwVDEyOjI0OjUyKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOS0wNC0zMFQxMjoyNDo1MiswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDQtMzBUMTI6MjQ6NTIrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjAxNzk3ZjYxLWRhMGQtNmQ0My1iN2I1LWNiZWFiYzFhZjhkZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozMjBiNzQ0MC0xZWI3LWU2NGMtYWExMi01MmVjNzFjZmU0NDQ8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDozMjBiNzQ0MC0xZWI3LWU2NGMtYWExMi01MmVjNzFjZmU0NDQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MzIwYjc0NDAtMWViNy1lNjRjLWFhMTItNTJlYzcxY2ZlNDQ0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTA0LTMwVDEyOjI0OjUyKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowMTc5N2Y2MS1kYTBkLTZkNDMtYjdiNS1jYmVhYmMxYWY4ZGU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTktMDQtMzBUMTI6MjQ6NTIrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PiP4UGsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAxRJREFUeNrcmk1PE1EUhh8mCIoiNdMmboQSqIFoUugaF641iv/FhQt3bkz8M8To2oWsKSwIidCk1piQ0BFRPhQJdTFnzGScfjD33OmUJ7mbpvfMfed+zLnnnKFWq4UlXCAvbQK4CpwDJ8Ah0JTm2Xj4kJKw4ZCIoF2EZqSd9VvYDHAngZBehH4BamkLKwIlWWI2+QF8Auq2hTnAIjBNutSBNdmj6sIKQAUYpz/8FHF7msLmgPtkg01gS0PYAjBLttgB1rvtmU6UMygKGVM5qbA5OfmySgmYv6iwQob2VCfuyVh7EubI6TcoVOJ0xAlb7OORnoTxuIlwYjyKaQaPorS2wkoMLqV2wmZS8P1sMiEa/l03AiaVH3QdWJI9OwXk5DriAbtAFVgFjhSfORncCALPYxhYVjJ+BXgMPBVxnTgC3gLvgFOl568AZ4Gw2/J2TSkALxLMfgN43auD24VVYDfYYxoXRRd4lXBJT0pfV2Ec+fDhkVdYfs8NB+aKjRFNYaZv6pGSszwrtlSEucCQgaEbwDPFk21ZbBptC0dhGS4BY4rCxhQOsryGsLKFj+2ChrCcoREbvmXRsH/OAUYVXBkb7pEJow4XCGm14U8WHUcH+GVo47uFcR0Y9v/t4MfrTPhqQVjd9GU7+HFyEzYsCFs37N/UELYKHCuKOhabxsI8wCTlcihXBS1WxKYJXuArmibf3svVw5SG2DKarbATbLocT4E3wL6BjW9i4zRLwpDr/suEM9eQvrsK42jaCg2MSGjgSRZCAwAPlW6w4WDOA3Fop4Bb8vs+8FmO9I/KwRwP+BCeMfBDV4sMNlUkShWOK9YUXJl+ckAoGR+NBG8PsLDtqBMc9dHqAyjqv3HHZVvWFBzjNAmS7nQTdh73xwwTWybRLqO5h5+dzzqbtIked8pBb2FQ8pMCNTqURXSrGqjilx5kjR0ZW1t6LWCZx09kZ2X5qRSwBFzKkqPw0q1gHvdL8p2yViQWpgjcBW5aFpRaWV+UGfzclqssyJM7WuqFmFEuXelsJ6LFztfk9xPxxK0WO/8dAPx/3zmf5r6TAAAAAElFTkSuQmCC'
                            },
                            width: 30,
                            height: 30,
                            borderRadius: 30,
                            padding: 30
                        }
                    }, { //画剩余的刻度圆环
                        "name": "",
                        "value": max - data,
                        "label": {
                            show: false
                        },
                        labelLine: {
                            show: false,
                            emphasis: {
                                show: false
                            }
                        },
                    }
                ]
            }]
        }
        myChart.setOption(option, true);
    }
    function loadNine()
    {
        var listDeviceType = new Array();
        var listDeviceName = new Array();
        var listAll = new Array();
        //var keyValue = $('#Types_id option:selected').val();
        $.ajax({
            url: "/OperationMonitoring/BusinessOverview/GetDataDepartmentQualifiedRate",
            //data: { keyValue: keyValue },
            dataType: "json",
            async: false,
            success: function (da) {
                $(da).each(function (index, item) {
                    listDeviceType.push(item.DeviceType);
                    listDeviceName.push(item.DeviceName);
                    listAll.push(item);
                })
            }
        })

        $.unique(listDeviceType);
        $.unique(listDeviceName.sort());

        var series = [];
        $.each(listDeviceName, function (index, value) {
            var tempName = new Array();
            var tempArry = new Array();
            $.each(listAll, function (index1, value1) {
                if (value == value1.DeviceName) {
                    tempName = value1.DeviceName;
                    tempArry.push(value1.Number);
                }
            });
            series.push({
                name: tempName,
                type: 'bar',
                barWidth: '15%',
                barGap: '80%',
                data: tempArry,
                itemStyle: {
                    normal: {
                        label: {
                            show: true, //开启显示
                            position: 'top', //在上方显示
                            textStyle: { //数值样式
                                color: 'red',
                                fontSize: 12
                            }
                        },
                        color: function (params) {
                            if (params.value < 80) {
                                return "#ff6139";
                            } else if (params.value >= 80) {
                                return "#6d48e6";
                            }
                            return "#febf37";
                        }
                    }
                },
            })
        });

        var myChart = echarts.init(document.getElementById('chart7'));

        var option = {
            color: ['#f2961f', '#6d48e6', '#f70bfc'],
            grid: {
                left: '0%',
                right: '0',
                bottom: '0%',
                containLabel: true
            },
            //legend: {
            //    itemGap: 30,
            //    data: listDeviceName,
            //    itemWidth: 10,  //图例标记的图形宽度
            //    itemHeight: 10, //图例标记的图形高度
            //    textStyle: {    //图例文字的样式
            //        color: '#808080',  //文字颜色
            //        fontSize: 12    //文字大小
            //    }
            //},
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            xAxis: [
                {
                    //type: 'category',
                    //axisTick: { show: false },
                    //axisLabel: {
                    //    //X轴刻度配置
                    //    interval: 0 //0：表示全部显示不间隔；auto:表示自动根据刻度个数和宽度自动设置间隔个数
                    //    , rotate: 0
                    //},
                    //data: listDeviceType,

                    type: 'category',
                    data: listDeviceType,
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: '#808080',

                        }
                    },
                    axisLabel: {
                        // interval: 0,
                        // rotate: 40,
                        textStyle: {
                            fontSize: '11'
                        }
                    },
                    axisTick: { //y轴刻度线
                        show: false
                    },

                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: '#f2961d'
                        }
                    },
                    splitLine: {
                        show: true,
                        lineStyle: {
                            //color: "#57617B"
                            type: 'dashed'
                        }
                    },
                    axisTick: { //y轴刻度线
                        show: true
                    },
                    axisLabel: {}
                }
            ],
            series: series
        };
        myChart.setOption(option, true);
    }
    function funOne()
    {
        window.open("/OperationMonitoring/BusinessOverview/Form1");
    }
    function funTwo() {
        window.open("/OperationMonitoring/BusinessOverview/Form2");
    }
    function funThree()
    {
        window.open("/OperationMonitoring/BusinessOverview/Form3");
    }
    function funFour()
    {
        window.open("/OperationMonitoring/BusinessOverview/Form4");
    }
</script>

<body>
    <div class="row">
        <section class="col-lg-6 connectedSortable" style="width: 48%;background: url('../../../../Content/js/pages/img/BusinessOverview02.png') 0 0 / 100% 100% no-repeat;position: relative;  margin : 10px 5px 5px 20px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <div class="box-title" style="color:#474242;font-size:16px;font-weight:700;">生产成本</div>
                    <div style="float:right">
                        @*<select id="Type_id" name="Type" style="border: solid 1px #000;" onchange="selectType(this)">
                                <option value="1" selected="selected">一周</option>
                                <option value="2">两周</option>
                                <option value="3">三周</option>
                                <option value="4">一个月</option>
                                <option value="5">半年</option>
                                <option value="6">一年</option>
                            </select>*@
                    </div>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funOne()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content" style="height:100%;">
                    <div style="float:left;width:50%">
                        <div style="text-align:center;font-size:13px;color:#808080;">周期总生产成本</div>
                        <div id="chart1a" style="height:240px; "></div>
                    </div>
                    <div style="margin-left:50%;width:auto;">
                        <div style="text-align:center;font-size:13px;color:#808080;">自制成本按部门分类</div>
                        <div id="chart1b" style="height:240px; "></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="col-lg-6 connectedSortable" style="width:48.5%;background: url('../../../../Content/js/pages/img/BusinessOverview02.png') 0 0 / 100% 100% no-repeat;position: relative;  margin : 10px 15px 5px 5px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h4 class="box-title" style="color:#474242;font-size:16px;font-weight:700;">交付率/进度</h4>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funTwo()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content" style="height:100%;">
                    <div style="height:115px">
                        <div style="text-align:center;font-size:13px;color:#808080;">交期达成率趋势</div>
                        <div id="chart2" style="height:135px;"></div>
                    </div>
                    <div class="gridPanel" style="height:90%;margin:10px;width:98%">
                        <div style="text-align:center;font-size:13px;color:#808080;">在制模具进度</div>
                        <table id="gridList"></table>
                        
                    </div>
                </div>
            </div>
        </section>

        <section class="col-lg-6 connectedSortable" style="width:29%;background: url('../../../../Content/js/pages/img/BusinessOverview04.png') 0 0 / 100% 100% no-repeat;position: relative;  margin : 0px 5px 0px 20px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h4 class="box-title" style="color:#474242;font-size:16px;font-weight:700;">产能/负载</h4>
                    <div style="float:right">
                        @*<select id="Types_id" name="Types" style="border: solid 1px #000;" onchange="selectTypes(this)">
                                <option value="1" selected="selected">一周</option>
                                <option value="2">两周</option>
                                <option value="3">三周</option>
                                <option value="4">一个月</option>
                                <option value="5">半年</option>
                                <option value="6">一年</option>
                            </select>*@
                    </div>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funThree()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content">
                    <div id="chart3" style="height:320px;"></div>
                </div>
            </div>
        </section>

        <section class="col-lg-6 connectedSortable" style="width:18%;background: url('../../../../Content/js/pages/img/BusinessOverview05.png') 0 0 / 100% 100% no-repeat;position: relative;  margin : 0px 0px 0px 0px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h4 class="box-title" style="color:#474242;font-size:16px;font-weight:700;">新摸修模比例</h4>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funFive()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content">
                    <div id="chart4" style="height:320px;"></div>
                </div>
            </div>
        </section>

        <section class="col-lg-6 connectedSortable" style="width:49.5%;background: url('../../../../Content/js/pages/img/BusinessOverview06.png') 0 0 / 100% 100% no-repeat ;position: relative;  margin : 0px 15px 0px 5px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h4 class="box-title" style="color:#474242;font-size:16px;font-weight:700;">客户分布</h4>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funFour()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content" style="height:100%;">
                    <div style="float:left;width:60%">
                        <div style="text-align:center;font-size:13px;color:#808080;">全球分布</div>
                        <div id="chart4b" style="height:303px; "></div>
                    </div>
                    <div style="margin-left:60%;width:auto;">
                        <div style="text-align:center;font-size:13px;color:#808080;">主要客户</div>
                        <div id="chart4a" style="height:300px;background: url('../../../../Content/js/pages/img/bk.png') 0 0 / 100% 100% no-repeat ; background-size: 100% 99%;">
                            <div id="d3_temp" class="test">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="col-lg-6 connectedSortable" style="width:97.9%;background: url('../../../../Content/js/pages/img/BusinessOverview03.png') 0 0 / 100% 100% no-repeat;position: relative;  margin : 5px 20px 10px 14px;">
            <div class="box box-default">
                <div class="box-header with-border">
                    <div style="font-size:16px;color:#474242;font-weight:700;">总合格率</div>
                    <div class="box-tools pull-right">
                        <button type="button" onclick="funThree()" class="btn btn-box-tool"><i class="fa fa-expand"></i></button>
                    </div>
                </div>
                <div class="tab-content" style="height:100%;">
                    <div style="float:left;width:37.5%;">
                        <div id="chart5" style="height:300px; "></div>
                        <div style="text-align:center;font-size:13px;color:#808080;">钢件及电极合格率（15天）</div>
                    </div>
                    <div style="float:left;width:25%;">
                        <div id="chart6" style="height:300px;"></div>
                        <div style="text-align:center;font-size:13px;color:#808080;">合格率</div>
                    </div>
                    <div style="margin-left:62.5%;width:auto;">
                        <div id="chart7" style="height:300px;"></div>
                        <div style="text-align:center;font-size:13px;color:#808080;">各部门合格率（15天）</div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>